<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Woorden & Getallen Bingo (PRO)</title>

    <link rel="stylesheet" href="../bingo.css">
    <base href="/pro/">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        /* Consistente PRO-header zoals bij de andere PRO-bestanden */
        .pro-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #3f7fbf;
            padding: 8px 12px;
            color: #fff;
            z-index: 1000;
            height: 48px;
        }
        .pro-header .back-link,
        .pro-header #logoutBtn {
            background: #5a9fd4;
            color: #fff;
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            display: inline-block;
            white-space: nowrap;
        }
        .pro-header .back-link { float: left; }
        .pro-header #logoutBtn { float: right; }
        /* Zorg dat de inhoud niet onder de header valt */
        body { margin-top: 60px; }
    </style>
</head>
<body>

<header class="pro-header">
    <a href="app.html" class="back-link">&larr; Terug naar menu</a>
    <button id="logoutBtn">Uitloggen</button>
</header>

<script>
  (function() {
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('#logoutBtn');
      if (!btn) return;
      try { localStorage.removeItem('authToken'); } catch {}
      try { localStorage.removeItem('refreshToken'); } catch {}
      fetch('/auth/logout', { method: 'POST', credentials: 'include' })
        .catch(() => {})
        .finally(() => { window.location.href = '/login.html'; });
    });
  })();
</script>
<div id="herstel-melding" class="herstel-melding verborgen">
    <span>Er is een vorig spel gevonden. Wilt u doorgaan?</span>
    <button id="herstel-ja">‚úÖ Ja, ga door</button>
    <button id="herstel-nee">‚ùå Nee, start een nieuw spel</button>
</div>

<div class="hoofd-menu">
    <hr>

    <button id="kies-avi-knop" class="menu-knop">Start Woordenbingo</button>
    <div id="avi-selectie" class="verborgen">
        <h3>Kies AVI-niveau</h3>
        <div class="avi-knoppen">
            <button class="avi-knop" data-level="AVI-START">AVI Start</button>
            <button class="avi-knop" data-level="AVI-M3">AVI M3</button>
            <button class="avi-knop" data-level="AVI-E3">AVI E3</button>
            <button class="avi-knop" data-level="AVI-M4">AVI M4</button>
            <button class="avi-knop" data-level="AVI-E4">AVI E4</button>
            <button class="avi-knop" data-level="AVI-M5">AVI M5</button>
            <button class="avi-knop" data-level="AVI-E5">AVI E5</button>
        </div>
    </div>

    <div id="avi-start-subkeuze" class="verborgen">
        <button id="start-met-letters" class="sub-knop">Spelen met Letters</button>
        <button id="start-met-woorden" class="sub-knop">Spelen met Woorden</button>
    </div>
    <div id="avi-start-klankkeuze" class="verborgen">
        <p>Duid de geleerde klanken aan:</p>
        <div id="klank-kiezer"></div>
        <button id="start-met-klanken-knop">Start spel</button>
    </div>

    <hr>

    <button id="kies-getal-knop" class="menu-knop">Start Getallenbingo</button>
    <div id="getal-selectie" class="verborgen">
        <h3>Kies een bereik</h3>
        <button class="getal-knop" data-max="20">Getallen tot 20</button>
        <button class="getal-knop" data-max="100">Getallen tot 100</button>
        <button class="getal-knop" data-max="1000">Getallen tot 1000</button>
    </div>

    <hr>

    <button id="kies-tafel-knop" class="menu-knop">Start Tafelbingo</button>
    <div id="tafel-selectie" class="verborgen">
        <h3>Kies tafels</h3>
        <div id="tafel-kiezer"></div>
        <h3>Kies type</h3>
        <div id="tafel-type-kiezer">
            <label><input type="radio" name="tafel-type" value="maal" checked> Maal</label>
            <label><input type="radio" name="tafel-type" value="deel"> Deel</label>
            <label><input type="radio" name="tafel-type" value="mix"> Mix</label>
        </div>
        <button id="start-tafel-spel-knop">Start spel</button>
    </div>

    <hr>

    <button id="kies-reken-knop" class="menu-knop">Start Rekenbingo</button>
    <div id="reken-selectie" class="verborgen">
        <h3>Kies bereik</h3>
        <div class="reken-optie-groep">
            <label><input type="radio" name="reken-bereik" value="10" checked> Tot 10</label>
            <label><input type="radio" name="reken-bereik" value="20"> Tot 20</label>
            <label><input type="radio" name="reken-bereik" value="100"> Tot 100</label>
            <label><input type="radio" name="reken-bereik" value="1000"> Tot 1000</label>
        </div>
        <h3>Kies type</h3>
        <div class="reken-optie-groep">
            <label><input type="radio" name="reken-brug" value="zonder" checked> Zonder brug</label>
            <label><input type="radio" name="reken-brug" value="met"> Met brug</label>
            <label><input type="radio" name="reken-brug" value="gemengd"> Gemengd</label>
        </div>
        <h3>Kies bewerking</h3>
        <div class="reken-optie-groep">
            <label><input type="radio" name="reken-bewerking" value="optellen" checked> Optellen</label>
            <label><input type="radio" name="reken-bewerking" value="aftrekken"> Aftrekken</label>
            <label><input type="radio" name="reken-bewerking" value="mix"> Mix</label>
        </div>
        <button id="start-reken-spel-knop">Start spel</button>
    </div>

    <hr>
    <button id="maak-kaarten-knop" class="menu-knop bingokaart-knop">Maak Bingokaarten</button>
    
    <hr>
    <button id="export-spel-knop" class="menu-knop">üì• Exporteer Spel</button>
    <button id="import-spel-knop" class="menu-knop">üîÑ Importeer Spel</button>
    <input type="file" id="import-spel-input" class="verborgen" accept=".json">
</div>

<div id="spel-wrapper" class="verborgen">
    <div class="spel-container">
        <h1 id="huidig-niveau-titel">Kies een spel om te starten</h1>
        <div id="items-overzicht"></div>
        <div id="schuif-machine">
            <div id="pijl-indicator">‚ñº</div>
            <div id="ballen-band"></div>
        </div>
        <div class="knoppen-container">
            <button id="start-schuiven-knop">Kies item</button>
        </div>
    </div>
</div>

<div id="modal-overlay" class="verborgen">
    <div id="custom-modal">
        <h3 id="modal-titel">Opties voor Bingokaarten</h3>
        <div id="modal-body">
            </div>
        <div id="modal-footer">
            <button id="modal-genereer-knop" class="modal-actie-knop">Genereer Kaarten</button>
            <button id="modal-annuleren-knop">Annuleren</button>
        </div>
    </div>
</div>

<script src="../bingo.js"></script>
</body>
</html>



